<!DOCTYPE html>
<html ⚡ lang="en">
  <head>
  <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>Texture Synthesis</title>
  <meta name="description" content="Note: This post was originally featured on Graphical Blues, a blog for my Advanced Graphics courseFor my final project, I worked on implementing image quilti...">

  <link rel="canonical" href="https://github.com/siawyoung/immaculate/blog/2016/03/15/texture-synthesis/">
  <link rel="alternate" type="application/rss+xml" title="this has yet to be defined" href="https://github.com/siawyoung/immaculate/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Catamaran" rel="stylesheet">

  <script type="application/ld+json">
  
{
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": "https://github.com/siawyoung/immaculate/blog/2016/03/15/texture-synthesis/",
  "headline": "Texture Synthesis",
  "datePublished": "2016-03-15T00:00:00-07:00",
  "dateModified": "2016-03-15T00:00:00-07:00",
  "description": "Note: This post was originally featured on Graphical Blues, a blog for my Advanced Graphics courseFor my final project, I worked on implementing image quilti...",
  "author": {
    "@type": "Person",
    "name": "Jason Lo"
  },
  "publisher": {
    "@type": "Organization",
    "name": "this has yet to be defined",
    "logo": {
      "@type": "ImageObject",
      "url": "https://github.com/siawyoung/immaculate",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://github.com/siawyoung/immaculate",
    "height": 60,
    "width": 60
  }
}

  </script>

  <style amp-custom>
  
  /* Import ET Book styles
   adapted from https://github.com/edwardtufte/et-book/blob/gh-pages/et-book.css */
@font-face {
  font-family: "et-book";
  src: url("/assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot");
  src: url("/assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot?#iefix") format("embedded-opentype"), url("/assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.woff") format("woff"), url("/assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.ttf") format("truetype"), url("/assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.svg#etbookromanosf") format("svg");
  font-weight: normal;
  font-style: normal; }
@font-face {
  font-family: "et-book";
  src: url("/assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot");
  src: url("/assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot?#iefix") format("embedded-opentype"), url("/assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.woff") format("woff"), url("/assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.ttf") format("truetype"), url("/assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.svg#etbookromanosf") format("svg");
  font-weight: normal;
  font-style: italic; }
@font-face {
  font-family: "et-book";
  src: url("/assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot");
  src: url("/assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot?#iefix") format("embedded-opentype"), url("/assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.woff") format("woff"), url("/assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.ttf") format("truetype"), url("/assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.svg#etbookromanosf") format("svg");
  font-weight: bold;
  font-style: normal; }
@font-face {
  font-family: "et-book-roman-old-style";
  src: url("/assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot");
  src: url("/assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot?#iefix") format("embedded-opentype"), url("/assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.woff") format("woff"), url("/assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.ttf") format("truetype"), url("/assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.svg#etbookromanosf") format("svg");
  font-weight: normal;
  font-style: normal; }
/* Tufte CSS styles */
html {
  font-size: 15px; }

body {
  width: 87.5%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 12.5%;
  font-family: et-book, Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif;
  background-color: #fffff8;
  color: #111;
  max-width: 1400px;
  counter-reset: sidenote-counter; }

h1 {
  font-weight: 400;
  margin-top: 4rem;
  margin-bottom: 1.5rem;
  font-size: 3.2rem;
  line-height: 1; }

h2 {
  font-style: italic;
  font-weight: 400;
  margin-top: 2.1rem;
  margin-bottom: 0;
  font-size: 2.2rem;
  line-height: 1; }

h3 {
  font-style: italic;
  font-weight: 400;
  font-size: 1.7rem;
  margin-top: 2rem;
  margin-bottom: 0;
  line-height: 1; }

p.subtitle {
  font-style: italic;
  margin-top: 1rem;
  margin-bottom: 1rem;
  font-size: 1.8rem;
  display: block;
  line-height: 1; }

.numeral {
  font-family: et-book-roman-old-style; }

.danger {
  color: red; }

article {
  position: relative;
  padding: 5rem 0rem; }

section {
  padding-top: 1rem;
  padding-bottom: 1rem; }

p, ol, ul, .pagination a, .pagination em, table {
  font-size: 1.4rem; }

p {
  line-height: 2rem;
  margin-top: 1.4rem;
  margin-bottom: 1.4rem;
  padding-right: 0;
  vertical-align: baseline; }

/* Chapter Epigraphs */
div.epigraph {
  margin: 5em 0; }

div.epigraph > blockquote {
  margin-top: 3em;
  margin-bottom: 3em; }

div.epigraph > blockquote, div.epigraph > blockquote > p {
  font-style: italic; }

div.epigraph > blockquote > footer {
  font-style: normal; }

div.epigraph > blockquote > footer > cite {
  font-style: italic; }

/* end chapter epigraphs styles */
blockquote {
  font-size: 1.4rem; }

blockquote p {
  width: 80%; }

blockquote .footer {
  width: 50%;
  font-size: 1.1rem;
  text-align: right; }

ol, ul {
  width: 85%;
  -webkit-padding-start: 5%;
  -webkit-padding-end: 5%; }

li {
  padding: 0.5rem 0; }

figure {
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
  max-width: 55%;
  -webkit-margin-start: 0;
  -webkit-margin-end: 0;
  margin: 0 0 3em 0; }

figcaption {
  float: right;
  clear: right;
  margin-right: -48%;
  margin-top: 0;
  margin-bottom: 0;
  font-size: 1.1rem;
  line-height: 1.6;
  vertical-align: baseline;
  position: relative;
  max-width: 40%; }

figure.fullwidth figcaption {
  margin-right: 24%; }

/* Links: replicate underline that clears descenders */
a:link, a:visited {
  color: inherit; }

a:link {
  text-decoration: none;
  background: -webkit-linear-gradient(#fffff8, #fffff8), -webkit-linear-gradient(#fffff8, #fffff8), -webkit-linear-gradient(#333, #333);
  background: linear-gradient(#fffff8, #fffff8), linear-gradient(#fffff8, #fffff8), linear-gradient(#333, #333);
  -webkit-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;
  -moz-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;
  background-size: 0.05em 1px, 0.05em 1px, 1px 1px;
  background-repeat: no-repeat, no-repeat, repeat-x;
  text-shadow: 0.03em 0 #fffff8, -0.03em 0 #fffff8, 0 0.03em #fffff8, 0 -0.03em #fffff8, 0.06em 0 #fffff8, -0.06em 0 #fffff8, 0.09em 0 #fffff8, -0.09em 0 #fffff8, 0.12em 0 #fffff8, -0.12em 0 #fffff8, 0.15em 0 #fffff8, -0.15em 0 #fffff8;
  background-position: 0% 93%, 100% 93%, 0% 93%; }

@media screen and (-webkit-min-device-pixel-ratio: 0) {
  a:link {
    background-position-y: 87%, 87%, 87%; } }
a:link::selection {
  text-shadow: 0.03em 0 #b4d5fe, -0.03em 0 #b4d5fe, 0 0.03em #b4d5fe, 0 -0.03em #b4d5fe, 0.06em 0 #b4d5fe, -0.06em 0 #b4d5fe, 0.09em 0 #b4d5fe, -0.09em 0 #b4d5fe, 0.12em 0 #b4d5fe, -0.12em 0 #b4d5fe, 0.15em 0 #b4d5fe, -0.15em 0 #b4d5fe;
  background: #b4d5fe; }

a:link::-moz-selection {
  text-shadow: 0.03em 0 #b4d5fe, -0.03em 0 #b4d5fe, 0 0.03em #b4d5fe, 0 -0.03em #b4d5fe, 0.06em 0 #b4d5fe, -0.06em 0 #b4d5fe, 0.09em 0 #b4d5fe, -0.09em 0 #b4d5fe, 0.12em 0 #b4d5fe, -0.12em 0 #b4d5fe, 0.15em 0 #b4d5fe, -0.15em 0 #b4d5fe;
  background: #b4d5fe; }

/* Sidenotes, margin notes, figures, captions */
img {
  max-width: 100%; }

.sidenote, .marginnote {
  float: right;
  clear: right;
  margin-right: -60%;
  width: 50%;
  margin-top: 0;
  margin-bottom: 0;
  font-size: 1.1rem;
  line-height: 1.3;
  vertical-align: baseline;
  position: relative; }

.table-caption {
  float: right;
  clear: right;
  margin-right: -60%;
  width: 50%;
  margin-top: 0;
  margin-bottom: 0;
  font-size: 1.0rem;
  line-height: 1.6; }

.sidenote-number {
  counter-increment: sidenote-counter; }

.sidenote-number:after, .sidenote:before {
  content: counter(sidenote-counter) " ";
  font-family: et-book-roman-old-style;
  position: relative;
  vertical-align: baseline; }

.sidenote-number:after {
  content: counter(sidenote-counter);
  font-size: 1rem;
  top: -0.5rem;
  left: 0.1rem; }

.sidenote:before {
  content: counter(sidenote-counter) " ";
  top: -0.5rem; }

p, footer, table, div.table-wrapper-small, div.supertable-wrapper > p, div.booktabs-wrapper {
  width: 80%; }

div.fullwidth, table.fullwidth {
  width: 100%; }

div.table-wrapper {
  overflow-x: auto;
  font-family: "Trebuchet MS", "Gill Sans", "Gill Sans MT", sans-serif; }

@media screen and (max-width: 760px) {
  p, h1, h2, h3, footer {
    width: 100%; }

  pre.code {
    width: 87.5%; }

  ul {
    width: 85%; }

  figure {
    max-width: 90%; }

  figcaption, figure.fullwidth figcaption {
    margin-right: 0%;
    max-width: none; }

  blockquote p, blockquote .footer {
    width: 90%; } }
.sans {
  font-family: "Gill Sans", "Gill Sans MT", Calibri, sans-serif;
  letter-spacing: .03em; }

.code {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 1.125rem;
  line-height: 1.6; }

h1 .code, h2 .code, h3 .code {
  font-size: 0.80em; }

.marginnote .code, .sidenote .code {
  font-size: 1rem; }

pre.code {
  width: 52.5%;
  padding-left: 2.5%;
  overflow-x: auto; }

.fullwidth {
  max-width: 90%;
  clear: both; }

span.newthought {
  font-variant: small-caps;
  font-size: 1.2em; }

.margin-toggle {
  display: none; }

.sidenote-number {
  display: inline; }

.margin-toggle:not(.sidenote-number) {
  display: none; }

@media (max-width: 760px) {
  .margin-toggle:not(.sidenote-number) {
    display: none; }

  .sidenote, .marginnote {
    display: none; }

  .margin-toggle:checked + .sidenote,
  .margin-toggle:checked + .marginnote {
    display: block;
    float: left;
    left: 1rem;
    clear: both;
    width: 95%;
    margin: 1rem 2.5%;
    vertical-align: baseline;
    position: relative; }

  label {
    cursor: pointer; }

  pre.code {
    width: 90%;
    padding: 0; }

  .table-caption {
    display: block;
    float: right;
    clear: both;
    width: 98%;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    margin-left: 1%;
    margin-right: 1%;
    vertical-align: baseline;
    position: relative; }

  div.table-wrapper, table, table.booktabs {
    width: 85%; }

  div.table-wrapper {
    border-right: 1px solid #efefef; }

  img {
    width: 100%; } }
/**
 * Syntax highlighting styles
 */
.highlight .c {
  color: #998;
  font-style: italic; }
.highlight .err {
  color: #a61717;
  background-color: #e3d2d2; }
.highlight .k {
  font-weight: bold; }
.highlight .o {
  font-weight: bold; }
.highlight .cm {
  color: #998;
  font-style: italic; }
.highlight .cp {
  color: #999;
  font-weight: bold; }
.highlight .c1 {
  color: #998;
  font-style: italic; }
.highlight .cs {
  color: #999;
  font-weight: bold;
  font-style: italic; }
.highlight .gd {
  color: #000;
  background-color: #fdd; }
.highlight .gd .x {
  color: #000;
  background-color: #faa; }
.highlight .ge {
  font-style: italic; }
.highlight .gr {
  color: #a00; }
.highlight .gh {
  color: #999; }
.highlight .gi {
  color: #000;
  background-color: #dfd; }
.highlight .gi .x {
  color: #000;
  background-color: #afa; }
.highlight .go {
  color: #888; }
.highlight .gp {
  color: #555; }
.highlight .gs {
  font-weight: bold; }
.highlight .gu {
  color: #aaa; }
.highlight .gt {
  color: #a00; }
.highlight .kc {
  font-weight: bold; }
.highlight .kd {
  font-weight: bold; }
.highlight .kp {
  font-weight: bold; }
.highlight .kr {
  font-weight: bold; }
.highlight .kt {
  color: #458;
  font-weight: bold; }
.highlight .m {
  color: #099; }
.highlight .s {
  color: #d14; }
.highlight .na {
  color: #008080; }
.highlight .nb {
  color: #0086B3; }
.highlight .nc {
  color: #458;
  font-weight: bold; }
.highlight .no {
  color: #008080; }
.highlight .ni {
  color: #800080; }
.highlight .ne {
  color: #900;
  font-weight: bold; }
.highlight .nf {
  color: #900;
  font-weight: bold; }
.highlight .nn {
  color: #555; }
.highlight .nt {
  color: #000080; }
.highlight .nv {
  color: #008080; }
.highlight .ow {
  font-weight: bold; }
.highlight .w {
  color: #bbb; }
.highlight .mf {
  color: #099; }
.highlight .mh {
  color: #099; }
.highlight .mi {
  color: #099; }
.highlight .mo {
  color: #099; }
.highlight .sb {
  color: #d14; }
.highlight .sc {
  color: #d14; }
.highlight .sd {
  color: #d14; }
.highlight .s2 {
  color: #d14; }
.highlight .se {
  color: #d14; }
.highlight .sh {
  color: #d14; }
.highlight .si {
  color: #d14; }
.highlight .sx {
  color: #d14; }
.highlight .sr {
  color: #009926; }
.highlight .s1 {
  color: #d14; }
.highlight .ss {
  color: #990073; }
.highlight .bp {
  color: #999; }
.highlight .vc {
  color: #008080; }
.highlight .vg {
  color: #008080; }
.highlight .vi {
  color: #008080; }
.highlight .il {
  color: #099; }

body {
  font-family: 'Catamaran', Futura, "Trebuchet MS", Arial, sans-serif;
  background-color: #f9f9f9;
  color: #333 !important;
  max-width: 840px;
  margin: 0 auto !important;
  padding-left: 0; }

p, ol, ul, .pagination a, .pagination em, table {
  font-size: 1.3rem; }

h2, h3 {
  font-style: normal;
  margin-bottom: 1rem; }

main {
  margin-top: 20px; }

amp-img {
  background-color: grey; }

article {
  padding: 2.5rem 0; }

header {
  margin-top: 20px; }

figure {
  margin: 0 0 1em 0; }

.post-meta {
  margin-top: 10px; }

pre {
  width: 100%;
  overflow-x: auto; }

.sidenote, .marginnote {
  margin-right: -40%;
  width: 34%;
  margin-top: .335rem; }

.sidenote:before {
  content: counter(sidenote-counter) " ";
  top: -0.5rem;
  left: -.8em;
  float: left;
  width: 0;
  text-align: right; }

@media (max-width: 760px) {
  pre {
    width: 90%;
    padding: 0; } }
@media screen and (max-width: 1020px) {
  p, footer, table, div.table-wrapper-small, div.supertable-wrapper > p, div.booktabs-wrapper {
    width: 70%; }

  blockquote p {
    width: 50%; } }
@media screen and (max-width: 760px) {
  p, h1, h2, h3, footer {
    width: 100%; }

  pre.code {
    width: 87.5%; }

  ul {
    width: 85%; }

  figure {
    max-width: 100%; }

  figcaption, figure.fullwidth figcaption {
    margin-right: 0%;
    max-width: none; }

  blockquote p, blockquote .footer {
    width: 90%; }

  .sidenote-number {
    display: none; } }
code {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 1.125rem;
  line-height: 1.6; }

div.highlighter-rouge code {
  font-size: 0.9rem; }

  </style>



  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

  <script async src="https://cdn.ampproject.org/v0.js"></script>
</head>

  <body>
    <header>
  <div class="page-links">
    <a class="page-link" href="/">home</a>
    
      
      • <a class="page-link" href="/about/">about</a>
      
    
      
    
      
    
      
    
      
    
      
    
  </div>
</header>


    <article>

  <h2 itemprop="name"><a href="" itemprop="url">Texture Synthesis</a></h2>

  <div class="post-meta">
    <time datetime="15 March 2016">15 March 2016</time>
  </div>

  <section>
    <p><em>Note: This post was originally featured on <a href="https://medium.com/@graphicalblues">Graphical Blues</a>, a blog for my Advanced Graphics course</em></p>

<p>For my final project, I worked on implementing image quilting — generating
larger versions of smaller images that approximate the textures of the original
image. Below are some of the original textures that’ll we be trying to expand.</p>

<figure class="fullwidth">
  <amp-img width="931" height="632" layout="responsive" src="/assets/posts/texture/original.png" alt="Original textures" title="Original textures"></amp-img>
</figure>

<p>The general algorithm works best with images that already have the general
texture “appearance”. As we’ll see later, it doesn’t work very well on
non-textural images.</p>

<!--more-->

<h3 id="random-patches">Random Patches</h3>

<figure class="fullwidth">
  <amp-img width="926" height="309" layout="responsive" src="/assets/posts/texture/random.png" alt="Random transfers" title="Random transfers"></amp-img>
</figure>

<p>This first batch of attempts is done by randomly selecting blocks from the
original image and then assorting them into a grid pattern. It’s understandably
simple to implement, and while not <em>horrible</em> it’s certainly not the best we can
do.</p>

<h3 id="overlaps">Overlaps</h3>

<figure class="fullwidth">
  <amp-img width="773" height="775" layout="responsive" src="/assets/posts/texture/overlap.png" alt="Overlapping transfers" title="Overlapping transfers"></amp-img>
</figure>

<p>Again, we choose chunks from the original image and then lay them on top of each
other to form the final generation. However, we don’t choose randomly. Instead,
when deciding on adjacent chunks we sample blocks that have some degree of
overlap, where overlap is defined as adjacent edges (left+right or top+bottom)
having similar pixels when overlaid upon each other by some user-specified
amount.</p>

<p>We sample all possible chunks from the original image and then find the chunks
that when overlaid have the smallest difference from the texture we’ve built up
so far. In my particular implementation I calculate the difference of two image
regions (the <em>error</em>) through the difference in luminosity.</p>

<p>I also added some randomness to my selection algorithm — I found that often my
algorithm would find pairs of blocks that overlapped well on both edges and
looped them, which caused unpleasant repetition within the texture. Randomly
discarding possible candidates helped alleviate this.</p>

<p>This ends up looking much better than the random selection. However, it is near
impossible to always find good overlaps, so edge seams are still visible to an
extent.</p>

<h3 id="minimum-cut">Minimum Cut</h3>

<figure class="fullwidth">
  <amp-img width="927" height="775" layout="responsive" src="/assets/posts/texture/minimum.png" alt="Minimum cut" title="Minimum cut"></amp-img>
</figure>

<p>The core algorithm here is extremely similar to the above. The only difference
is how we handle the overlapping regions.</p>

<p>In the prior section, we overlaid images left to right, top to bottom, giving
chunks priority in that scan order (the image to the right of another would
occupy the entire overlap space, causing the rectangular seam).</p>

<p>In this case, we instead look to find the best possible edge (a ragged edge)
that separates adjacent chunks. We do this by calculating the squared difference
between overlaid images (again, using luminosity), and create an image
representation from that. Then we walk along the image, doing our best to stay
on pixels with minimum error (that in our image representation will be
represented as darker pixels). We then split along that bound.</p>

<figure class="fullwidth">
  <amp-img width="800" height="800" layout="responsive" src="https://cdn-images-1.medium.com/max/800/1*WMhHRwTTJp8xeeq4QDROOw.png" alt="Purple cut lines" title="Purple cut lines"></amp-img>
</figure>

<p>The purple lines in the image above demonstrate the cut points.</p>

<p>Something to note is that cell size and overlap size (as said above), need to be
manually tuned on a per-texture basis. Here’s an example of trying to generate
textures given a checkerboard patter with a cell size that doesn’t align with
the checkerboard size:</p>

<figure class="fullwidth">
  <amp-img width="800" height="800" layout="responsive" src="https://cdn-images-1.medium.com/max/800/1*EtX1GATgGZOrQFqmMG0NJQ.png" alt="Cell size mismatch" title="Cell size mismatch"></amp-img>
</figure>

<p>We do get a decent texture out of it, but the differing cell size doesn’t
properly preserve the original texture of the image.</p>

<figure class="fullwidth">
  <amp-img width="800" height="800" layout="responsive" src="https://cdn-images-1.medium.com/max/800/1*4I6qrTiJUjCIrXytnxJU_w.png" alt="Bad sampler" title="Bad sampler"></amp-img>
</figure>

<figure class="fullwidth">
  <amp-img width="800" height="800" layout="responsive" src="https://cdn-images-1.medium.com/max/800/1*fr3O5HcJe4uU4-MTIELSsA.png" alt="Even more bad sampling" title="Even more bad sampling"></amp-img>
</figure>

<p>Just for fun, as we said before, the general algorithm only works on images that
already represent “textures” in some way. Trying them on portraits for example
gives (un)expected results.</p>

<h3 id="texture-transfer">Texture Transfer</h3>

<figure class="fullwidth">
  <amp-img width="929" height="932" layout="responsive" src="/assets/posts/texture/transfer.png" alt="Texture Transfer" title="Texture Transfer"></amp-img>
</figure>

<p>We can repurpose the algorithms above to add the ability to transfer textures
between images.</p>

<p>The way we do this is to keep generation tied to a source image while referring
to a texture. When selecting blocks from the texture, besides our edge-overlap
heuristic, we also detect how similar that chunk is to the relevant chunk from
the source image.</p>

<figure class="fullwidth">
  <amp-img width="927" height="331" layout="responsive" src="/assets/posts/texture/badtransfer.png" alt="Bad samples" title="Bad samples"></amp-img>
</figure>

<p>Note that this still requires proper selection of cell size, as well as a bias
property that decides whether we weigh texture continuity or image relevance
higher. Trying to map the leaves picture above to a portrait with too small of a
cell size and too high of an image relevance produces a matching texture, but
one that doesn’t properly represent the original texture.</p>

<h3 id="sources">Sources</h3>

<p><a href="http://www.eecs.berkeley.edu/Research/Projects/CS/vision/papers/efros-siggraph01.pdf">http://www.eecs.berkeley.edu/Research/Projects/CS/vision/papers/efros-siggraph01.pdf</a></p>

<p><a href="http://web.engr.illinois.edu/~vrgsslv2/cs498dwh/proj2/">http://web.engr.illinois.edu/~vrgsslv2/cs498dwh/proj2/</a></p>

  </section>

    <footer class="site-footer">
   <section class="copyright">All content copyright <a href="mailto:">Jason Lo</a> &copy; 2016 &bull; All rights reserved.</section>
</footer>


  </div>
</article>

  </body>
</html>
